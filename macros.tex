\newcommand{\msigma}  {\bm{\Sigma}}
\newcommand{\mgamma}  {\bm{\Gamma}}
\newcommand{\mlambda}  {\bm{\Lambda}}
\newcommand{\mq}{\bm{Q}}
\newcommand{\mn}{\bm{N}}
\newcommand{\md}{\bm{D}}
\newcommand{\mm}{\bm{M}} 
\newcommand{\mx}{\bm{X}}       
\newcommand{\my}{\bm{Y}}       
\newcommand{\mi}{\bm{I}}       
\newcommand{\mU}{\bm{U}}       
\newcommand{\mb}{\bm{B}}       
\newcommand{\ms}{\bm{S}}
\newcommand{\ma}{\bm{A}}
\newcommand{\mv}{\bm{V}}
\newcommand{\mG}{\bm{G}}
\newcommand{\mk}{\bm{K}}

\newcommand{\vmu}{\bm{\mu}}
\newcommand{\vtheta}  {\bm{\theta}}
\newcommand{\vd}{\bm{d}}
\newcommand{\vm}{\bm{m}}
\newcommand{\vl}{\bm{l}}
\newcommand{\vt}{\bm{t}}
\newcommand{\vx}{\bm{x}}
\newcommand{\vy}{\bm{y}}
\newcommand{\vz}{\bm{z}}
\newcommand{\vu}{\bm{u}}
\newcommand{\vv}{\bm{v}}
% \newcommand{\vs}{\bm{s}}
\newcommand{\ve}{\bm{e}}
\newcommand{\vq}{\bm{q}}
\newcommand{\vp}{\bm{p}}
\newcommand{\vw}{\bm{w}}

\newcommand{\Bmu}{\mathbf{\mu}}
\newcommand{\Btheta}  {\mathbf{\theta}}
\newcommand{\Bd}{\mathbf{d}}
\newcommand{\Bm}{\mathbf{m}}
\newcommand{\Bl}{\mathbf{l}}
\newcommand{\Bt}{\mathbf{t}}
\newcommand{\Bx}{\mathbf{x}}
\newcommand{\By}{\mathbf{y}}
\newcommand{\Bz}{\mathbf{z}}
\newcommand{\Bu}{\mathbf{u}}
\newcommand{\Bv}{\mathbf{v}}
% \newcommand{\Bs}{\mathbf{s}}
\newcommand{\Be}{\mathbf{e}}
\newcommand{\Bq}{\mathbf{q}}
\newcommand{\Bp}{\mathbf{p}}
\newcommand{\Bw}{\mathbf{w}}
\newcommand{\Bg}{\mathbf{g}}

\newcommand{\BX}{\mathbf{X}}
\newcommand{\BM}{\mathbf{M}}
\newcommand{\BL}{\mathbf{L}}
\newcommand{\BU}{\mathbf{U}}
\newcommand{\BZ}{\mathbf{Z}}
\newcommand{\BG}{\mathbf{G}}
\newcommand{\BR}{\mathbf{R}}

\newcommand{\Ac}{\mathcal{A}}   
\newcommand{\Kc}{\mathcal{K}}
\newcommand{\Dc}{\mathcal{D}}
\newcommand{\Gc}{\mathcal{G}}
\newcommand{\Sc}{\mathcal{S}}
\newcommand{\Ic}{\mathcal{I}}
\newcommand{\Xc}{\mathcal{X}}
\newcommand{\Lc}{\mathcal{L}}
\newcommand{\Oc}{\mathcal{O}}
\newcommand{\Mc}{\mathcal{M}}
\newcommand{\Nc}{\mathcal{N}}
\newcommand{\Cc}{\mathcal{C}}
\newcommand{\Vc}{\mathcal{V}}
\newcommand{\Zc}{\mathcal{Z}}

\newcommand{\ib}{\bar{i}}

% \newcommand{\pnorm}[2]{\| {#1} \|_{#2}}
\newcommand{\pnorm}[2]{\left\lVert{#1}\right\rVert_{#2}}
\newcommand{\norm}[1]{\|{#1}\|}
\newcommand{\enorm}[1]{\pnorm{#1}{2}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\set}[1]{\{ #1\}}
\newcommand{\reals}{\mathbb{R}}
\newcommand{\nlsum}{\sum\nolimits}
\newcommand{\nlprod}{\prod\nolimits}
\newcommand{\gm}{\#}

\newcommand{\breg}{D_{\phi}}
\newcommand{\peg}{p_{\text{eg}}}
\newcommand{\pag}{p_{\text{ag}}}
\newcommand{\ld}{\text{ld}}
\newcommand{\algo}{\textsc{Gmml}\xspace}

\renewcommand{\floatpagefraction}{.95}
\DeclareMathOperator{\Diag}{Diag}
\DeclareMathOperator{\trace}{tr}

%\numberwithin{equation}{section}

\newcommand{\red}[1]{{\color{red}#1}}
% \newcommand{\argmax}[1]{\underset{#1}{\operatorname{argmax}}}
% \newcommand{\argmin}[1]{\underset{#1}{\operatorname{argmin}}}
\DeclareMathOperator*{\argmin}{arg\,min} % Jan Hlavacek
\DeclareMathOperator*{\argmax}{arg\,max} % Jan Hlavacek

% small O notation
\newcommand\smallO{
  \mathchoice
    {{\scriptstyle\mathcal{O}}}% \displaystyle
    {{\scriptstyle\mathcal{O}}}% \textstyle
    {{\scriptscriptstyle\mathcal{O}}}% \scriptstyle
    {\scalebox{.6}{$\scriptscriptstyle\mathcal{O}$}}%\scriptscriptstyle
  }

% scientific notation
\newcommand{\expnumber}[2]{{#1}\mathrm{e}{#2}}

% Underbrace wrap
\newcommand{\xsub}[1]{%
  \mbox{\scriptsize\begin{tabular}{@{}c@{}}#1\end{tabular}}%
  }
\newcommand\underbracewrap[2]{\underbrace{#1}_{\xsub{#2}}}

% Underbrace wrap
\newcommand*{\myfiguretitle}[2]{\fontfamily{phv}\fontsize{#2}{#2}\selectfont
#1}

% Short version in text as well
\newcommand*\mycaption[2]{\caption[#1]{\textbf{#1}~$\blacktriangleright$~#2}}

% \makeatletter
% \let\ams@underbrace=\underbrace
% \def\underbrace#1_#2{%  
%   \setbox0=\hbox{$\displaystyle#1$}%
%   \ams@underbrace{#1}_{\parbox[t]{\the\wd0}{#2}}%
% }
% \makeatother        

% Placeholder figure
\newcommand{\placeholderfigure}[1]{
\begin{figure}[h]
  \centering
  \includegraphics[width=0.5\columnwidth]{scripts/graphics/placeholder.png}
  \caption{Placeholder}{{\color{red} #1}}
\end{figure}
}

% Colored fbox
\newcommand{\cfbox}[2]{%
  \colorlet{currentcolor}{.}%
  {\color{#1}%
    \fbox{\color{currentcolor}#2}}%
}

